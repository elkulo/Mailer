/*!
 * Mailer | el.kulo v3.1.0 (https://github.com/elkulo/Mailer/)
 * Copyright 2020-2022 A.Sudo
 * Licensed under LGPL-2.1-only (https://github.com/elkulo/Mailer/blob/main/LICENSE)
 */
(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mailer",c=document.querySelector(e),i=window,u=i.grecaptcha;if(c&&n&&"object"===t(u)){var r={minute:2,timer:null,limit:5,count:0},a=!0,l=document.createElement("div");l.style.display="none",c.appendChild(l);var f={captchaResponse:document.createElement("input"),captchaAction:document.createElement("input")};Object.keys(f).forEach((function(t){"captchaResponse"===t?(f[t].setAttribute("name","_recaptcha-response"),f[t].setAttribute("value","")):"captchaAction"===t&&(f[t].setAttribute("name","_recaptcha-action"),f[t].setAttribute("value",o)),f[t].setAttribute("type","hidden"),l.appendChild(f[t])}));var p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.timer&&clearTimeout(r.timer),r.count<r.limit&&(r.timer=setTimeout((function(){return m()}),6e4*r.minute)),"focus"===t?r.count=0:r.count++},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a&&new Promise((function(t,e){u.ready((function(){new Promise((function(){var e=u.execute(n,{action:o}).then((function(t){f.captchaResponse.setAttribute("value",t)}));t(e)})).catch((function(t){e(t)}))}))})).then((function(){p(t&&"focus"===t.type)})).catch((function(t){t&&console.error("reCAPTHCAのサイトキーが無効です。"),a=!1}))};c.querySelectorAll("input, textarea").forEach((function(t){t.addEventListener("focus",(function(t){return m(t)}),!1)})),m()}};window.applyReCaptcha=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mailer";document.addEventListener("DOMContentLoaded",(function(){e(t,n,o)}),!1)}})();