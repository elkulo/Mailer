/*! For license information please see app-form.min.js.LICENSE.txt */
(()=>{"use strict";function e(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function r(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){t(r,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}))}return r}function t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function i(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#mailform",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.config={error:{required:"{name} が記入されておりません",checked:"{name} がチェックされていません",mailaddress:"メールアドレスの形式が異なります",phonenumber:"{name} の形式が異なります",number:"{name} は数値のみ入力してください"}},this.config.error=r(r({},this.config.error),i.error),this.$formElement=t,this.timer=0,this.$messageError=document.createElement("div"),this.$messageError.classList.add("js__error--message"),this.$messageError.style.opacity=0,this.run=this.run.bind(this),this.removeError=this.removeError.bind(this),document.addEventListener("DOMContentLoaded",this.run,!1)}var t,s,o;return t=e,(s=[{key:"run",value:function(){var e=this,r=document.querySelector(this.$formElement+":not([novalidate])");if(r){var t=r.querySelector('[type="submit"]'),n=!0;r.insertBefore(this.$messageError,r.firstElementChild),t.addEventListener("click",(function(i){n?(i.preventDefault(),function(){var i=[];e.$messageError.style.opacity=0;var s=r.querySelectorAll(".js__error--field");if(s.length)for(var o=0;o<s.length;o++)s[o].classList.remove("js__error--field");var a=r.querySelectorAll("[name]"),l=[].slice.call(a).filter((function(e){return e.required}));if(l.length&&l.forEach((function(r){i=e.applyFilterRequired(r,i),i=e.applyFilterMailAddress(r,i),i=e.applyFilterPhoneNumber(r,i),i=e.applyFilterInteger(r,i)})),!i.length)return n=!1,void t.click();var c=Object.keys(i).map((function(e){return"<li>"+i[e]+"</li>"})).join("");e.$messageError.innerHTML="<ul>"+c+"</ul>",e.$messageError.style.opacity=1,e.removeError()}()):n=!0}),!1)}}},{key:"removeError",value:function(){var e=this;0<this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.$messageError.style.opacity=0}),4e3)}},{key:"applyFilterRequired",value:function(e,r){return e.value?"checkbox"===e.type&&!1===e.checked&&(r.push(e.name+" がチェックされていません"),e.classList.add("js__error--field")):(r.push(e.name+" が記入されておりません"),e.classList.add("js__error--field")),r}},{key:"applyFilterMailAddress",value:function(e,r){return e.classList.contains("js__error--field")||"email"!==e.type||e.value.match(/.+@.+\..+/g)||(r.push("メールアドレスの形式が異なります"),e.classList.add("js__error--field")),r}},{key:"applyFilterPhoneNumber",value:function(e,r){return e.classList.contains("js__error--field")||"tel"!==e.type||e.value.match(/^[0-9|０-９|ー|-]+$/)||(r.push(e.name+" の形式が異なります"),e.classList.add("js__error--field")),r}},{key:"applyFilterInteger",value:function(e,r){return e.classList.contains("js__error--field")||"number"!==e.type||isNaN(e.value)&&(r.push(e.name+" は数値のみ入力してください"),e.classList.add("js__error--field")),r}}])&&i(t.prototype,s),o&&i(t,o),e}();window.AppForm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new s(e,r)}})();